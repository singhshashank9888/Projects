<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Simple Day Todo</title>

<style>
body{
  background:#222;
  color:white;
  font-family:Arial;
  margin:0;
  padding:40px;
}

h1{
  text-align:center;
  margin-bottom:30px;
}

.container{
  max-width:500px;
  margin:auto;
}

ul{
  list-style:none;
  padding:0;
}

li{
  background:#333;
  padding:12px 10px;
  margin:10px 0;
  display:flex;
  align-items:center;
  border-radius:6px;
}

li.completed span{
  text-decoration:line-through;
  opacity:0.5;
}

span{
  flex:1;
}

/* progress bar */
.progress-box{
  margin-top:20px;
  background:#444;
  border-radius:10px;
  height:22px;
}

.progress{
  height:100%;
  background:#7ee37a;
  width:0%;
  border-radius:10px;
}
</style>
</head>

<body>
<h1>Today</h1>

<div class="container">

  <input id="input" placeholder="Add task..." style="width:75%;padding:10px;border-radius:6px;border:none;">
  <button id="add" style="padding:10px;border:none;border-radius:6px;background:#7ee37a;">+</button>

  <ul id="list"></ul>

  <div class="progress-box">
    <div class="progress" id="progress"></div>
  </div>

</div>

<script>
const input = document.getElementById("input");
const list = document.getElementById("list");
const progress = document.getElementById("progress");

let todos = JSON.parse(localStorage.getItem("todos")) || [];

todos.forEach(t=> addItem(t.text, t.done));

function addItem(text, done=false){
  const li=document.createElement("li");
  const checkbox=document.createElement("input");
  checkbox.type="checkbox";
  checkbox.checked=done;

  const span = document.createElement("span");
  span.textContent=text;

  if(done) li.classList.add("completed");

  checkbox.addEventListener("change",()=>{
    li.classList.toggle("completed");
    todos[listIndex(li)].done = checkbox.checked;
    save();
    updateProgress();
  })

  li.appendChild(checkbox);
  li.appendChild(span);
  list.appendChild(li);
}

function listIndex(li){
  return [...list.children].indexOf(li);
}

function save(){
  localStorage.setItem("todos",JSON.stringify(todos));
}

function updateProgress(){
  const total = todos.length;
  const done = todos.filter(t=>t.done).length;
  const percent = total>0 ? (done/total)*100 : 0;
  progress.style.width = percent+"%";
}

// add
document.getElementById("add").onclick=()=>{
  const text = input.value.trim();
  if(!text) return;
  todos.push({text, done:false});
  save();
  addItem(text,false);
  updateProgress();
  input.value="";
}

updateProgress();
</script>

</body>
</html>
